{"ast":null,"code":"var _jsxFileName = \"/home/sayo-dev/working/fe3-final/src/Components/utils/global.context.jsx\",\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer, useEffect, useMemo } from \"react\";\nimport { getDentists } from \"../services/getDestinsts\";\nimport { ACTIONS } from './actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  theme: 'light',\n  data: []\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case ACTIONS.SET_DENTISTS:\n      return { ...state,\n        dentists: action.payload.dentists\n      };\n\n    case ACTIONS.TOGGLE_THEME:\n      return { ...state,\n        theme: state.theme === 'light' ? 'dark' : 'light'\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport const ContextGlobal = /*#__PURE__*/createContext(undefined);\nexport const ContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const fetchAndSetDentists = useMemo(() => async () => {\n    try {\n      const dentists = await getDentists();\n      dispatch({\n        type: ACTIONS.SET_DENTISTS,\n        payload: {\n          dentists\n        }\n      });\n    } catch (error) {\n      console.error('Failed to fetch and set dentists', error);\n    }\n  }, [dispatch]);\n  useEffect(() => {\n    fetchAndSetDentists();\n  }, [fetchAndSetDentists]);\n  return /*#__PURE__*/_jsxDEV(ContextGlobal.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContextProvider, \"i5m9xXpABA5iQJjb3likBcvF3qk=\");\n\n_c = ContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["createContext","useReducer","useEffect","useMemo","getDentists","ACTIONS","initialState","theme","data","reducer","state","action","type","SET_DENTISTS","dentists","payload","TOGGLE_THEME","ContextGlobal","undefined","ContextProvider","children","dispatch","fetchAndSetDentists","error","console"],"sources":["/home/sayo-dev/working/fe3-final/src/Components/utils/global.context.jsx"],"sourcesContent":["import { createContext, useReducer, useEffect, useMemo } from \"react\";\r\nimport { getDentists } from \"../services/getDestinsts\";\r\nimport { ACTIONS } from './actions';\r\n\r\nexport const initialState = {theme: 'light', data: []}\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n    case ACTIONS.SET_DENTISTS:\r\n      return { ...state, dentists: action.payload.dentists };\r\n    case ACTIONS.TOGGLE_THEME:\r\n      return { ...state, theme: state.theme === 'light' ? 'dark' : 'light' };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const ContextGlobal = createContext(undefined);\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n  \r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const fetchAndSetDentists = useMemo(() => async () => {\r\n    try {\r\n      const dentists = await getDentists();\r\n      dispatch({ type: ACTIONS.SET_DENTISTS, payload: { dentists } });\r\n    } catch (error) {\r\n      console.error('Failed to fetch and set dentists', error);\r\n    }\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    fetchAndSetDentists();\r\n  }, [fetchAndSetDentists]);\r\n\r\n\r\n  return (\r\n    <ContextGlobal.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </ContextGlobal.Provider>\r\n  );\r\n};\r\n"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,SAApC,EAA+CC,OAA/C,QAA8D,OAA9D;AACA,SAASC,WAAT,QAA4B,0BAA5B;AACA,SAASC,OAAT,QAAwB,WAAxB;;AAEA,OAAO,MAAMC,YAAY,GAAG;EAACC,KAAK,EAAE,OAAR;EAAiBC,IAAI,EAAE;AAAvB,CAArB;;AAEP,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EAAgC;EAC9B,QAAQA,MAAM,CAACC,IAAf;IACE,KAAKP,OAAO,CAACQ,YAAb;MACE,OAAO,EAAE,GAAGH,KAAL;QAAYI,QAAQ,EAAEH,MAAM,CAACI,OAAP,CAAeD;MAArC,CAAP;;IACF,KAAKT,OAAO,CAACW,YAAb;MACE,OAAO,EAAE,GAAGN,KAAL;QAAYH,KAAK,EAAEG,KAAK,CAACH,KAAN,KAAgB,OAAhB,GAA0B,MAA1B,GAAmC;MAAtD,CAAP;;IACF;MACE,OAAOG,KAAP;EANJ;AAQD;;AAED,OAAO,MAAMO,aAAa,gBAAGjB,aAAa,CAACkB,SAAD,CAAnC;AAEP,OAAO,MAAMC,eAAe,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAE/C,MAAM,CAACV,KAAD,EAAQW,QAAR,IAAoBpB,UAAU,CAACQ,OAAD,EAAUH,YAAV,CAApC;EAEA,MAAMgB,mBAAmB,GAAGnB,OAAO,CAAC,MAAM,YAAY;IACpD,IAAI;MACF,MAAMW,QAAQ,GAAG,MAAMV,WAAW,EAAlC;MACAiB,QAAQ,CAAC;QAAET,IAAI,EAAEP,OAAO,CAACQ,YAAhB;QAA8BE,OAAO,EAAE;UAAED;QAAF;MAAvC,CAAD,CAAR;IACD,CAHD,CAGE,OAAOS,KAAP,EAAc;MACdC,OAAO,CAACD,KAAR,CAAc,kCAAd,EAAkDA,KAAlD;IACD;EACF,CAPkC,EAOhC,CAACF,QAAD,CAPgC,CAAnC;EASAnB,SAAS,CAAC,MAAM;IACdoB,mBAAmB;EACpB,CAFQ,EAEN,CAACA,mBAAD,CAFM,CAAT;EAKA,oBACE,QAAC,aAAD,CAAe,QAAf;IAAwB,KAAK,EAAE;MAAEZ,KAAF;MAASW;IAAT,CAA/B;IAAA,UACGD;EADH;IAAA;IAAA;IAAA;EAAA,QADF;AAKD,CAvBM;;GAAMD,e;;KAAAA,e"},"metadata":{},"sourceType":"module"}